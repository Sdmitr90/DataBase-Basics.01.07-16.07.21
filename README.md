# Базы данных. Основы.01.07-16.07.21

## Задание №1

1. Привести данные по преподавателям к третьей нормальной форме. В качестве отчёта необходимо сдать таблицы с соответствующим содержимым в формате PDF. Рекомендуется выполнить это задание в программе, предназначенной для работы с таблицами (Microsoft Excel, Open Office Calc или другой, зависит от вашей рабочей системы), и затем выполнить экспорт результата в файл формата PDF. Если такой программы у вас нет, можно создать таблицы с помощью сервиса Google Docs или в любом текстовом редакторе.
*Образец таблицы см. в методичке (стр. 15)

2 Установить программу sqlite3, запустить её, выйти командой .quit (точка плюс quit). В качестве отчёта необходимо сдать скриншот результата выполнения.

## Задание №2

В SQLite создать базу данных преподавателей и назвать её teachers.db. В этой базе данных создать таблицы преподавателей (teachers), курсов (courses), потоков (streams) и успеваемости (achievements) на основе структур, которые представлены ниже. Обратите внимание что данные вводить пока не нужно. Сдать отчет необходимо в виде файла базы данных teachers.db.
*Таблицы смотреть в методичке (стр. 14)

## Задание №3

Работаем с базой данных teachers.db. В качестве отчёта необходимо сдать команды, которые выполнялись (в текстовом файле), а также файл базы данных.

Переименовать таблицу streams в training_groups.
В таблице training_groups переименовать столбец даты начала обучения в started_at.
В таблице training_groups добавить столбец даты завершения обучения в finished_at.
Привести данные в полное соответствие с таблицами 1-4 практического задания в методичке (https://docs.google.com/document/d/1d0I3mX7QHCTAD34qKbxVNgGVTphcRn9FU2p9b2bK6vw/edit#))

## Задание №4

Работаем с базой данных учителей teachers.db. Для каждого из заданий необходимо создать запрос, сдать нужно только код запросов в текстовом файле.

Преобразовать дату начала потока к виду год-месяц-день.
Получить идентификатор и номер потока, который запланирован на самую позднюю дату.
Показать уникальные значения года дат начала потоков обучения
Найти количество преподавателей в базе данных. Вывести искомое значение в столбец с именем total_teachers.
Показать даты начала двух последних по времени потоков.
Найти среднюю успеваемости учеников по потоку преподавателя с идентификатором равным 1.

## Задание №5

Работаем с базой данных учителей teachers.db. Для каждого из заданий необходимо создать запрос, сдать нужно только код запросов в текстовом файле. Для решений следует использовать вложенные запросы и UNION.

Найти потоки, количество учеников в которых больше или равно 40. В отчёт вывести номер потока, название курса и количество учеников.
Найти два потока с самыми низкими оценками за успеваемость. В отчёт вывести номер потока, название курса, фамилию и имя преподавателя (одним столбцом), оценку успеваемости.
Найти среднюю успеваемость всех потоков преподавателя Николая Савельева. В отчёт вывести идентификатор преподавателя и среднюю оценку по потокам.
Найти потоки преподавателя Натальи Петровой а также потоки, по которым успеваемость ниже 4.8. В отчёт вывести идентификатор потока, фамилию и имя преподавателя.

## Задание №6

Работаем с базой данных учителей teachers.db. Для каждого из заданий необходимо создать запрос, сдать нужно только код запросов в текстовом файле. Для решений следует использовать объединение JOIN, и, по возможности, не использовать вложенные запросы и объединение UNION.

Показать информацию по потокам. В отчет вывести номер потока, название курса и дату начала занятий.
Найти общее количество учеников для каждого курса. В отчет вывести название курса и количество учеников по всем потокам курса.
Найти среднюю оценку по всем потокам для всех учителей. В отчет вывести идентификатор, фамилию и имя учителя, среднюю оценку по всем проведенным потокам. Учителя, у которых не было потов, также должны попасть в выборку.

## Задание №7

Работаем с базой данных учителей teachers.db. Для каждого из заданий необходимо сдать только код, который выполняется для получения результата, в текстовом файле.

Создать представление, которое выводит название курса, номер последнего потока, дату начала обучения и среднюю успеваемость курса по всем потокам.
Удалить из базы данных всю информацию, которая относится к преподавателю с идентификатором, равным 3. Выполнить все необходимые действия в транзакции.
Создать триггер для таблицы academic_performance, который проверяет значение успеваемости на соответствие диапазону чисел между 0.1 и 5 включительно.

## Задание №8

Работаем с базой данных учителей teachers.db. Для каждого из заданий необходимо сдать только код, который выполняется для получения результата, в текстовом файле. В качестве отчёта к четвертому заданию необходимо приложить скриншот.

Найти общее количество учеников для каждого курса. В отчет вывести название курса и количество учеников по всем потокам курса. Решить задание с применением оконных функций.

Найти среднюю оценку по всем потокам для всех учителей. В отчет вывести идентификатор, фамилию и имя учителя, среднюю оценку по всем проведенным потокам. Учителя, у которых не было потов, также должны попасть в выборку. Решить задание с применением оконных функций.

Построить индексы, необходимые для максимально быстрого выполнения данного запроса.
*Образец смотреть в методичке на стр.29

Установить SQLiteStudio, подключить базу данных учителей, выполнить в графическом клиенте любой запрос.
